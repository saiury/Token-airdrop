{
  "version": 3,
  "file": "sender.js",
  "sourceRoot": "",
  "sources": [
    "sender.coffee"
  ],
  "names": [],
  "mappings": ";AAAA,IAAA,GAAA,EAAA,GAAA,EAAA,KAAA,EAAA,EAAA,EAAA,KAAA,EAAA,KAAA,EAAA,EAAA,EAAA,IAAA,EAAA,GAAA,EAAA,IAAA,EAAA,KAAA,EAAA,IAAA,EAAA,YAAA,EAAA,YAAA,EAAA;;AAAA,IAAA,GAAO,OAAA,CAAQ,YAAR;;AACP,EAAA,GAAK,OAAA,CAAQ,IAAR,CAAa,CAAC;;AAEnB,KAAA,GAAQ,OAAA,CAAQ,OAAR;;AAGR,GAAA,GAAM,OAAA,CAAQ,OAAR;;AAEN,GAAA,GAAM,OAAA,CAAQ,WAAR;;AAGN,GAAA,GAAM,OAAO,CAAC;;AAEd,KAAA,GAAQ,QAAA,CAAC,GAAD,CAAA;SACP,GAAG,CAAC,OAAJ,CAAY,GAAZ,EAAiB,OAAjB;AADO;;AAIR,GAAA,GAAM,QAAA,CAAC,GAAD,CAAA;SACL,GAAG,CAAC,KAAJ,CAAU,GAAV,EAAe,OAAf;AADK;;AAIN,EAAA,GAAK,QAAA,CAAC,GAAD,CAAA;AACJ,SAAO,IAAI,GAAG,CAAC,EAAR,CAAW,GAAX,EAAgB,EAAhB;AADH;;AAIL,KAAA,GAAQ,QAAA,CAAC,EAAD,CAAA;AACP,SAAO,IAAI,OAAJ,CAAY,CAAC,OAAD,EAAU,MAAV,CAAA,GAAA;WAClB,UAAA,CAAW,OAAX,EAAoB,EAApB;EADkB,CAAZ;AADA;;AAIR;;;;;;;;;;;;;;AAcA,IAAA,GAAO,MAAA,QAAA,CAAA,CAAA;AAEN,MAAA,OAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAAA,CAAA,EAAA,GAAA,EAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,KAAA,EAAA,SAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAAA,MAAA,EAAA,WAAA,EAAA,IAAA,EAAA;EAAA,MAAA,GAAS,SAAS,CAAC,OAAV,CAAkB,YAAlB;EACT,WAAA,GAAc,4CAA4C,CAAC,WAA7C,CAAA;AAEd;IACC,GAAA,GAAM,CAAA,MAAM,EAAE,CAAC,QAAH,CAAY,0BAAZ,CAAN;IACN,GAAA,GAAM,MAAA,CAAO,GAAP;IACN,GAAA,GAAM,GAAG,CAAC,KAAJ,CAAU,IAAV,EAHP;GAAA,cAAA;IAIM;IACL,GAAA,CAAI,GAAJ;AACA,WAND;GAHA;;;;;EAgBA,IAAA,GAAO;IACN;MAAC,EAAA,EAAI,IAAL;MAAW,IAAA,EAAM,4CAA4C,CAAC,WAA7C,CAAA,CAAjB;MAA6E,MAAA,EAAQ,GAAA,CAAI,SAAJ;IAArF,CADM;IAhBP;;EAsBA,MAAA,GAAS,CAAA,MAAM,MAAM,CAAC,EAAP,CAAU,WAAV,CAAN;EAET,KAAA,GAAQ,CAAA,MAAM,QAAA,CAAS,IAAI,CAAC,KAAd,CAAN;EAER,IAAA,GAAO;EAGP,KAAS,sGAAT;IACC,GAAA,GAAM,IAAK;IACX,GAAA;;AAAc;MAAA,KAAA,qCAAA;;qBAAP,GAAG,CAAC;MAAG,CAAA;;;IACd,SAAA;;AAAsB;MAAA,KAAA,qCAAA;;qBAAT,GAAG,CAAC;MAAK,CAAA;;;IACtB,OAAA;;AAAsB;MAAA,KAAA,qCAAA;;qBAAX,GAAG,CAAC;MAAO,CAAA;;;IAEtB,KAAS,0BAAT;MACC,GAAA,GAAM,CAAA,MAAM,MAAM,CAAC,YAAP,CAAoB,4CAApB,EAAkE,GAAlE,EAAuE,SAAvE,EAAkF,OAAlF,EAA2F,CAAC,KAAD,CAA3F,CAAN;MACN,GAAA,CAAI,GAAJ;MACA,KAAA,IAAS;IAHV;EAND;SAWA,CAAA,MAAM,KAAA,CAAM,IAAN,CAAN;AA1CM;;AA6CP,YAAA,GAAe,MAAA,QAAA,CAAA,CAAA;AAEd,MAAA,OAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAAA,CAAA,EAAA,GAAA,EAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,GAAA,EAAA,KAAA,EAAA,SAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAAA,OAAA,EAAA,MAAA,EAAA,WAAA,EAAA,IAAA,EAAA,GAAA,EAAA,GAAA,EAAA;EAAA,MAAA,GAAS,SAAS,CAAC,OAAV,CAAkB,mBAAlB;EAET,WAAA,GAAc,4CAA4C,CAAC,WAA7C,CAAA;AAEd;IACC,GAAA,GAAM,CAAA,MAAM,EAAE,CAAC,QAAH,CAAY,sBAAZ,CAAN;IACN,GAAA,GAAM,MAAA,CAAO,GAAP;IACN,GAAA,GAAM,GAAG,CAAC,KAAJ,CAAU,IAAV,EAHP;GAAA,cAAA;IAIM;IACL,GAAA,CAAI,GAAJ;AACA,WAND;;EAQA,IAAA,GAAO;EACP,KAAA,qCAAA;;IACC,GAAA,GAAM,GAAG,CAAC,KAAJ,CAAU,IAAV;IACN,IAAI,CAAC,IAAL,CAAU;MAAC,EAAA,EAAI,GAAI,CAAA,CAAA,CAAT;MAAa,IAAA,EAAM,GAAI,CAAA,CAAA,CAAvB;MAA2B,MAAA,EAAQ,GAAA,CAAI,GAAI,CAAA,CAAA,CAAR,CAAW,CAAC,QAAZ,CAAA,CAAnC;MAA2D,OAAA,EAAS,GAAI,CAAA,CAAA;IAAxE,CAAV;EAFD;EAIA,IAAA,GAAO;IACN;MAAC,EAAA,EAAI,IAAL;MAAW,IAAA,EAAM,4CAA4C,CAAC,WAA7C,CAAA,CAAjB;MAA6E,MAAA,EAAQ,GAAA,CAAI,aAAJ,CAArF;MAAyG,OAAA,EAAS;IAAlH,CADM;IAjBP;;;;;;EA2BA,MAAA,GAAS,CAAA,MAAM,MAAM,CAAC,EAAP,CAAU,WAAV,CAAN;EAET,KAAA,GAAQ,CAAA,MAAM,QAAA,CAAS,IAAI,CAAC,KAAd,CAAN;EAER,IAAA,GAAO;AAEP;EAAA,KAAS,sGAAT;IAEC,GAAA,GAAM,IAAK;IAEX,GAAA;;AAAc;MAAA,KAAA,uCAAA;;sBAAP,GAAG,CAAC;MAAG,CAAA;;;IACd,SAAA;;AAAoC;MAAA,KAAA,uCAAA;;sBAAvB,GAAG,CAAC,IAAI,CAAC,WAAT,CAAA;MAAuB,CAAA;;;IACpC,OAAA;;AAAsB;MAAA,KAAA,uCAAA;;sBAAX,GAAG,CAAC;MAAO,CAAA;;;IACtB,QAAA;;AAAwB;MAAA,KAAA,uCAAA;;sBAAZ,GAAG,CAAC;MAAQ,CAAA;;;iBAExB;;AAAA;MAAA,KAAS,yBAAT;AACC;UACC,GAAA,GAAM,CAAA,MAAM,MAAM,CAAC,YAAP,CAAoB,4CAApB,EAAkE,GAAlE,EAAuE,SAAvE,EAAkF,OAAlF,EAA2F,QAA3F,EAAqG,CAAC,KAAD,CAArG,CAAN;UACN,GAAA,CAAI,GAAJ,EAFD;SAAA,cAAA;UAGM;UACL,GAAA,CAAI,GAAJ,EAJD;;sBAKA,KAAA,IAAS;MANV,CAAA;;QAAA;EATD,CAAA;;AAnCc;;AAqDf,YAAA,GAAe,MAAA,QAAA,CAAC,aAAD,CAAA;AACd,MAAA,IAAA,EAAA,MAAA,EAAA,WAAA,EAAA;AAAA;IACC,MAAA,GAAS,SAAS,CAAC,OAAV,CAAkB,mBAAlB;IAET,WAAA,GAAc,4CAA4C,CAAC,WAA7C,CAAA,EAFd;;IAOA,MAAA,GAAS,CAAA,MAAM,MAAM,CAAC,EAAP,CAAU,WAAV,CAAN;IAGT,IAAA,GAAO;IAEP,gBAAA,GAAmB,MAAM,CAAC,eAAP,CAAuB,CAAA,CAAvB,EAA2B;MAAC,SAAA,EAAW,CAAZ;MAAe,OAAA,EAAS;IAAxB,CAA3B;WACnB,gBAAgB,CAAC,GAAjB,CAAqB,KAAA,CAAC,KAAD,EAAQ,IAAR,CAAA,GAAA;AAEpB,UAAA,CAAA,EAAA,CAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAAA;MAAA,KAAA,sCAAA;;QAEC,IAAG,GAAG,CAAC,IAAI,CAAC,UAAT,KAAyB,4CAA4C,CAAC,WAA7C,CAAA,CAA5B;UACC,IAAG,GAAG,CAAC,IAAI,CAAC,UAAT,KAAyB,4CAA4C,CAAC,WAA7C,CAAA,CAA5B;YACC,IAAI,CAAC,IAAL,CACC;cAAA,SAAA,EAAW,GAAG,CAAC,IAAI,CAAC,UAApB;cACA,IAAA,EAAM,GAAG,CAAC,IAAI,CAAC,KADf;cAEA,MAAA,EAAQ,KAAA,CAAM,GAAG,CAAC,IAAI,CAAC,OAAf,CAFR;cAGA,OAAA,EAAS,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAlB,CAAA;YAHT,CADD,EADD;WADD;;MAFD;MAUA,GAAA,GAAM;MAEN,KAAA,wCAAA;;QACC,GAAA,IAAO,CAAA,CAAA,CAAG,GAAG,CAAC,SAAP,EAAA,CAAA,CAAoB,GAAG,CAAC,IAAxB,EAAA,CAAA,CAAgC,GAAG,CAAC,MAApC,EAAA,CAAA,CAA8C,GAAG,CAAC,OAAlD,CAA0D,IAA1D;MADR;MAGA,GAAA,CAAI,IAAI,CAAC,MAAT;MAEA,MAAM,EAAE,CAAC,SAAH,CAAa,aAAb,EAA4B,GAA5B;MAEN,GAAA,CAAI,MAAJ;IArBoB,CAArB,EAdD;GAAA;AADc;;AAyCf,IAAA,GAAO,MAAA,QAAA,CAAC,aAAD,CAAA;AAEN,MAAA,IAAA,EAAA,KAAA,EAAA,IAAA,EAAA,CAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,EAAA,WAAA,EAAA;EAAA,IAAA,GAAO,4CAA4C,CAAC,WAA7C,CAAA;EACP,WAAA,GAAc,oEAAoE,CAAC,WAArE,CAAA;EACd,KAAA,GAAQ;EACR,GAAA,GAAM;EAEN,GAAA,GAAM;AAEN,SAAM,KAAA,GAAQ,GAAd;IAEC,IAAA,GAAO,CAAA,MAAM,KAAK,CAAC,GAAN,CAAU,CAAA,kEAAA,CAAA,CAAqE,KAArE,CAA2E,SAA3E,CAAA,CAAsF,KAAA,GAAQ,EAA9F,CAAiG,SAAjG,CAAA,CAA4G,IAA5G,CAAiH,QAAjH,CAAA,CAA2H,WAA3H,CAAuI,QAAvI,CAAA,CAAiJ,IAAI,CAAC,MAAtJ,CAAA,CAAV,CAAN;AAEP;IAAA,KAAA,qCAAA;;MACC,GAAA,IAAO,CAAA,EAAA,CAAA,CAAK,GAAG,CAAC,MAAO,CAAA,CAAA,CAAG,UAAnB,EAAA,CAAA,CAA4B,GAAG,CAAC,YAAJ,CAAiB,CAAC,MAAD,CAAjB,EAA2B,GAAG,CAAC,IAA/B,CAAqC,CAAA,CAAA,CAAE,CAAC,QAAxC,CAAA,CAA5B,CAA+E,IAA/E;IADR;IAGA,GAAA,CAAI,KAAJ,EAAW,IAAI,CAAC,UAAhB;IAEA,KAAA,GAAQ,KAAA,GAAQ;IAEhB,MAAM,KAAA,CAAM,IAAN;EAXP;EAaA,MAAM,EAAE,CAAC,SAAH,CAAa,aAAb,EAA4B,GAA5B;AAtBA;;AA2BP,KAAA,GAAQ,MAAA,QAAA,CAAA,CAAA;AAEP,MAAA,GAAA,EAAA,CAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,EAAA;EAAA,GAAA,GAAM,CAAA,MAAM,EAAE,CAAC,QAAH,CAAY,oBAAZ,CAAN;EACN,GAAA,GAAM,MAAA,CAAO,GAAP;EACN,GAAA,GAAM,GAAG,CAAC,KAAJ,CAAU,MAAV;EAEN,GAAA,GAAM,GAAI,CAAA,CAAA,CAAJ,GAAS;EACf,GAAA,GAAM,GAAI;EAEV,KAAA,qCAAA;;IACC,GAAA,GAAM,GAAG,CAAC,KAAJ,CAAU,GAAV;IACN,GAAA,IAAO,CAAA,CAAA,CAAG,GAAI,CAAA,CAAA,CAAP,EAAA,CAAA,CAAa,KAAA,CAAM,GAAI,CAAA,CAAA,CAAV,CAAb,CAA2B,IAA3B;EAFR;EAIA,MAAM,EAAE,CAAC,SAAH,CAAa,qBAAb,EAAoC,GAApC;AAbC,EAjNR;;;;;;;;AA0OA,KAAA,CAAA",
  "sourcesContent": [
    "keys = require '../keys.js'\nfs = require('fs').promises\n\naxios = require 'axios'\n\n\nEth = require 'ethjs'\n\nabi = require 'ethjs-abi'\n\n\nlog = console.log\n\nether = (val)->\n\tEth.fromWei val, 'ether'\n\n\nwei = (val)->\n\tEth.toWei val, 'ether'\n\n\nbn = (val)->\n\treturn new Eth.BN val, 10\n\n\ndelay = (ms)->\n\treturn new Promise (resolve, reject)=>\n\t\tsetTimeout resolve, ms\n\n```\nconst getNonce = account => new Promise((resolve, reject) => {\n\tweb3.eth.getTransactionCount(account, (err, result) => {\n\n\t\tif(err)\n\t\t{\n\t\t\treturn reject(err);\n\t\t}\n\n\t\tresolve(result);\n\t});\n});\n```\n\nsend = ->\n\n\tsender = artifacts.require 'MassSender'\n\tsender_addr = '0xcdbB5a2D305f179fcfF384499cDef4D6265B3082'.toLowerCase()\n\n\ttry\n\t\tres = await fs.readFile './data/5/investors_2.dat'\n\t\tres = String res\n\t\tarr = res.split '\\n'\n\tcatch err\n\t\tlog err\n\t\treturn\n\n#\tdata = []\n#\tfor val in arr\n#\t\ttmp = val.split '\\t'\n#\t\tdata.push {id: tmp[0], addr: tmp[1], amount: wei(tmp[2]).toString()}\n\n\tdata = [\n\t\t{id: 3100, addr: '0x246c8e972a0FbDEF6896D97a993F8B54DD2a215C'.toLowerCase(), amount: wei('17815.9')},\n\t\t]\n\n#\tsender = await sender.deployed()\n\n\tsender = await sender.at sender_addr\n\n\tnonce = await getNonce keys.owner\n\n\tsize = 2\n\n\n\tfor i in [0...data.length] by size\n\t\tarr = data[i...i + size]\n\t\tids = (val.id for val in arr)\n\t\treceivers = (val.addr for val in arr)\n\t\tamounts = (val.amount for val in arr)\n\n\t\tfor j in [0..2]\n\t\t\tres = await sender.bulkTransfer '0xbf799a2f71d020a4a8c10e7406e2bf970b3d734b', ids, receivers, amounts, {nonce}\n\t\t\tlog res\n\t\t\tnonce += 1\n\n\tawait delay 1000\n\n\nvesting_send = ->\n\n\tsender = artifacts.require 'MassVestingSender'\n\n\tsender_addr = '0xCBC66115e9d8655709c3408D0e320410Aef1161A'.toLowerCase()\n\n\ttry\n\t\tres = await fs.readFile './data/7/vesting.dat'\n\t\tres = String res\n\t\tarr = res.split '\\n'\n\tcatch err\n\t\tlog err\n\t\treturn\n\n\tdata = []\n\tfor val in arr\n\t\ttmp = val.split '\\t'\n\t\tdata.push {id: tmp[0], addr: tmp[2], amount: wei(tmp[3]).toString(), vesting: tmp[4]}\n\n\tdata = [\n\t\t{id: 1801, addr: '0x246c8e972a0FbDEF6896D97a993F8B54DD2a215C'.toLowerCase(), amount: wei('20469.99999'), vesting: '1546112999'},\n\t\t]\n\n##\tsender = await sender.deployed()\n\n#\t0xb901bdbcfe5470b854c4434b987e29ea1290dd5a\n#\t0x1b68e9b0dc65d5822e078667184cc0fa64b4931f\n#\t0xc6f695202eb1190f53a6e2b32351e1f2ef4ab78e\n\n\tsender = await sender.at sender_addr\n\n\tnonce = await getNonce keys.owner\n\n\tsize = 5\n\n\tfor i in [0...data.length] by size\n\n\t\tarr = data[i...i + size]\n\n\t\tids = (val.id for val in arr)\n\t\treceivers = (val.addr.toLowerCase() for val in arr)\n\t\tamounts = (val.amount for val in arr)\n\t\tvestings = (val.vesting for val in arr)\n\n\t\tfor j in [0...2]\n\t\t\ttry\n\t\t\t\tres = await sender.bulkTransfer '0xbf799a2f71d020a4a8c10e7406e2bf970b3d734b', ids, receivers, amounts, vestings, {nonce}\n\t\t\t\tlog res\n\t\t\tcatch err\n\t\t\t\tlog err\n\t\t\tnonce += 1\n\n\nvesting_logs = (res_file_name)->\n\ttry\n\t\tsender = artifacts.require 'MassVestingSender'\n\n\t\tsender_addr = '0xCBC66115e9d8655709c3408D0e320410Aef1161A'.toLowerCase()\n\n\n\t\t#\tsender = await sender.deployed()\n\n\t\tsender = await sender.at sender_addr\n\n\n\t\tdata = []\n\n\t\tvesting_transfer = sender.VestingTransfer({}, {fromBlock: 0, toBlock: 'latest'})\n\t\tvesting_transfer.get (error, logs)=>\n\n\t\t\tfor val in logs\n\n\t\t\t\tif val.args._recipient isnt '0xacE624812a8E2d8Ff0112784BBB3dE26355b0A3B'.toLowerCase()\n\t\t\t\t\tif val.args._recipient isnt '0xF9c024A74938F8e9172C14dE7b513D3ce4329B49'.toLowerCase()\n\t\t\t\t\t\tdata.push\n\t\t\t\t\t\t\trecipient: val.args._recipient\n\t\t\t\t\t\t\tlock: val.args._lock\n\t\t\t\t\t\t\tamount: ether(val.args._amount)\n\t\t\t\t\t\t\tvesting: val.args._vesting.toString()\n\n\t\t\tres = 'recipient;lock;amount;vesting\\r\\n'\n\n\t\t\tfor val in data\n\t\t\t\tres += \"#{val.recipient};#{val.lock};#{val.amount};#{val.vesting}\\r\\n\"\n\n\t\t\tlog data.length\n\n\t\t\tawait fs.writeFile res_file_name, res\n\n\t\t\tlog 'cmpl'\n\n\t\t\treturn\n\n\nlogs = (res_file_name)->\n\n\taddr = '0xbf799a2f71d020a4a8c10e7406e2bf970b3d734b'.toLowerCase()\n\tsender_addr = '0x000000000000000000000000cdbb5a2d305f179fcff384499cdef4d6265b3082'.toLowerCase()\n\tblock = 6952961\n\tmax = 6975700\n\n\tres = 'recipient;amount\\r\\n'\n\n\twhile block < max\n\n\t\tdata = await axios.get \"https://api.etherscan.io/api?module=logs&action=getLogs&fromBlock=#{block}&toBlock=#{block + 10}&address=#{addr}&topic1=#{sender_addr}&apikey=#{keys.APIKEY}\"\n\n\t\tfor val in data.data.result\n\t\t\tres += \"0x#{val.topics[2][26..]};#{abi.decodeParams(['uint'], val.data)[0].toString()}\\r\\n\"\n\n\t\tlog block, data.statusText\n\n\t\tblock = block + 11\n\n\t\tawait delay 1000\n\n\tawait fs.writeFile res_file_name, res\n\n\treturn\n\n\nlogs2 = ()->\n\n\tres = await fs.readFile './data/all_log.csv'\n\tres = String res\n\tarr = res.split('\\r\\n')\n\n\tres = arr[0] + '\\r\\n'\n\tarr = arr[1...]\n\n\tfor val in arr\n\t\ttmp = val.split ';'\n\t\tres += \"#{tmp[0]};#{ether(tmp[1])}\\r\\n\"\n\n\tawait fs.writeFile './data/all_log2.csv', res\n\n\treturn\n\n\n#module.exports = (cb)->\n#logs './data/all_log.csv'\n\n#\tvesting_send()\n\n#logs './data/all_log.csv'\n\nlogs2()\n\n\n\n"
  ]
}